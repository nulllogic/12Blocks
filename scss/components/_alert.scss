/*
*
┌─┐┬  ┌─┐┬─┐┌┬┐┌─┐
├─┤│  ├┤ ├┬┘ │ └─┐
┴ ┴┴─┘└─┘┴└─ ┴ └─┘
*
*/

@use '../config';
@use '../mixins';

@use '../themes/default' as theme;
@use '../mixins/variants/alert' as variants;

.alert {

  position: relative;
  display: flex;

  // scss-docs-start alert-css-vars

  --#{config.$prefix}alert-border-radius: .25rem;
  --#{config.$prefix}alert-padding: 1.25rem;
  --#{config.$prefix}alert-icon-size: 1.25rem;
  --#{config.$prefix}alert-icon-padding: 1rem;
  --#{config.$prefix}alert-padding-dismissable: 2rem;

  --#{config.$prefix}alert-dismiss-btn-position-top: .5rem;
  --#{config.$prefix}alert-dismiss-btn-position-right: .4rem;

  --#{config.$prefix}alert-close-button-color: rgba(92, 95, 98, 1);
  --#{config.$prefix}alert-close-button-color-hover: rgba(26, 28, 29, 1);

  --#{config.$prefix}alert-icon-fill: rgba(92, 95, 98, 1);
  --#{config.$prefix}alert-bg: rgba(246, 246, 247, 1);
  --#{config.$prefix}alert-box-shadow: inset 0 0.0625rem 0 0 rgba(186, 191, 195, 1), inset 0 0 0 0.0625rem rgba(186, 191, 195, 1);

  // scss-docs-end alert-css-vars

  @include mixins.border-radius(var(--#{config.$prefix}alert-border-radius));
  @include mixins.box-shadow(var(--#{config.$prefix}alert-box-shadow));

  padding: var(--#{config.$prefix}alert-padding);
  outline: 1px solid transparent;

  background: var(--#{config.$prefix}alert-bg);

  .icon-wrapper {
    padding-right: var(--#{config.$prefix}alert-icon-padding);

    .icon {
      height: var(--#{config.$prefix}alert-icon-size);
      width: var(--#{config.$prefix}alert-icon-size);
      color: var(--#{config.$prefix}alert-icon-fill);

      display: block;
      max-height: 100%;
      max-width: 100%;
      margin: auto;

      > svg {
        display: block;
      }
    }
  }

  .content-wrapper {
    flex: 1 1 auto;

    .title {
      font-weight: 500;
      margin-top: -0.225rem;
    }

    .content {
      word-wrap: break-word;
      word-break: break-word;
      overflow-wrap: break-word;

      font-weight: 300;
      font-size: 0.825rem;

      & + .actions {
        padding-top: .5rem;
      }
    }
  }

  &.dismissible {
    padding-right: calc(var(--#{config.$prefix}alert-icon-size) + var(--#{config.$prefix}alert-padding-dismissable));

    .dismiss-wrapper {
      top: var(--#{config.$prefix}alert-dismiss-btn-position-top);
      right: var(--#{config.$prefix}alert-dismiss-btn-position-right);
      position: absolute;

      .btn-close {
        box-shadow: none;
        border: none;
        color: var(--#{config.$prefix}alert-close-button-color);

        &:hover {
          box-shadow: none;
          color: var(--#{config.$prefix}alert-close-button-color-hover);
        }
      }
    }
  }

  @each $color-scheme, $theme-value in theme.$alert-colors {
    @include mixins.color-scheme($color-scheme) {
      @each $variant, $variant-options in $theme-value {
        &.#{$variant} {
          @each $state, $value in $variant-options {
            @include variants.alert($state, $value);
          }
        }
      }
    }
  }
}
